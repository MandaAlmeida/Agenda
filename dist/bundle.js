!function r(o,i,a){function c(e,t){if(!i[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(s)return s(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=i[e]={exports:{}},o[e][0].call(n.exports,function(t){return c(o[e][1][t]||t)},n,n.exports,r,o,i,a)}return i[e].exports}for(var s="function"==typeof require&&require,t=0;t<a.length;t++)c(a[t]);return c}({1:[function(t,e,n){"use strict";var r=t("./components/calendar"),o=t("./components/add-user"),i=t("./components/login");document.addEventListener("DOMContentLoaded",function(){document.getElementById("calendar")&&new r.Calendar,document.getElementById("register")&&new o.AddUser,document.getElementById("login")&&new i.Login})},{"./components/add-user":2,"./components/calendar":3,"./components/login":4}],2:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===o(t)?t:String(t)}(r.key),r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.AddUser=void 0;var r=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.request=new XMLHttpRequest,this.selectors(),this.event()}var e,n,r;return e=t,(n=[{key:"selectors",value:function(){this.addName=document.querySelector(".name_register"),this.addEmail=document.querySelector(".email_register"),this.addPassword=document.querySelector(".password_register"),this.addUserBtn=document.querySelector(".button_register")}},{key:"event",value:function(){this.addUserBtn.addEventListener("click",this.CreateUser.bind(this))}},{key:"CreateUser",value:function(){var e=this,t=this.addName.value,n=this.addEmail.value,r=this.addPassword.value;""===t||""===n||""===r?alert(" Por favor, preencha todos os campos"):(console.log(t,n,r),fetch("https://server-agenda.vercel.app/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,password:r})}).then(function(t){return t.json()}).then(function(t){e.addName.value="",e.addEmail.value="",e.addPassword.value="",console.log(t),window.location.replace("index.html")}).catch(function(t){console.error("Erro ao criar usuário:",t)}))}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n.AddUser=r},{}],3:[function(t,e,n){"use strict";function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(){k=function(){return a};var a={},t=Object.prototype,s=t.hasOwnProperty,u=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o,i,a,c,e=e&&e.prototype instanceof h?e:h,e=Object.create(e.prototype),r=new w(r||[]);return u(e,"_invoke",{value:(o=t,i=n,a=r,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return S()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;r=l(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===c)throw c="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c="executing";n=l(o,i,a);if("normal"===n.type){if(c=a.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(c="completed",a.method="throw",a.arg=n.arg)}})}),e}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=c;var d={};function h(){}function v(){}function f(){}var e={},p=(i(e,r,function(){return this}),Object.getPrototypeOf),p=p&&p(p(L([]))),y=(p&&p!==t&&s.call(p,r)&&(e=p),f.prototype=h.prototype=Object.create(e));function m(t){["next","throw","return"].forEach(function(e){i(t,e,function(t){return this._invoke(e,t)})})}function g(a,c){var e;u(this,"_invoke",{value:function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,o){var i,t=l(a[t],a,n);if("throw"!==t.type)return(n=(i=t.arg).value)&&"object"==x(n)&&s.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):c.resolve(n).then(function(t){i.value=t,r(i)},function(t){return e("throw",t,r,o)});o(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:S}}function S(){return{value:void 0,done:!0}}return u(y,"constructor",{value:v.prototype=f,configurable:!0}),u(f,"constructor",{value:v,configurable:!0}),v.displayName=i(f,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,i(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t},a.awrap=function(t){return{__await:t}},m(g.prototype),i(g.prototype,n,function(){return this}),a.AsyncIterator=g,a.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var i=new g(c(t,e,n,r),o);return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},m(y),i(y,o,"Generator"),i(y,r,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),a.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=L,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(n=o.completion).type&&(r=n.arg,b(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},a}function s(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function c(c){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=c.apply(t,a);function o(t){s(r,e,n,o,i,"next",t)}function i(t){s(r,e,n,o,i,"throw",t)}o(void 0)})}}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!==x(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===x(t)?t:String(t)}(r.key),r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Calendar=void 0;var r=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.eventsArr=[],this.annotationArr=[],this.today=new Date,this.activeDay,this.month=this.today.getMonth(),this.year=this.today.getFullYear(),this.users=JSON.parse(localStorage.getItem("user")),this.months=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],localStorage.getItem("token")?this.init():window.location.href="http://localhost:3000/index.html"}var e,n,r,o,i,a;return e=t,(n=[{key:"init",value:(a=c(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.selectors(),t.next=3,this.createEvents();case 3:return t.next=5,this.createAnnotation();case 5:this.renderPage(),this.events(),this.initCalendar(),this.user();case 9:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)})},{key:"selectors",value:function(){this.userBnt=document.querySelector(".button-user"),this.containerUser=document.querySelector(".container-icon-user"),this.calendar=document.querySelector(".calendar"),this.date=document.querySelector(".date"),this.daysContainer=document.querySelector(".days"),this.prev=document.querySelector(".prev"),this.next=document.querySelector(".next"),this.todayBtn=document.querySelector(".today-btn"),this.goBtn=document.querySelector(".go-btn"),this.eventDay=document.querySelector(".event-day"),this.eventDate=document.querySelector(".event-date"),this.dateInput=document.querySelector(".date-input"),this.addEventSubmit=document.querySelector(".add-event-button"),this.addEventBtn=document.querySelector(".add-event"),this.addEventContainer=document.querySelector(".add-event-wrapper"),this.addEventCloseBtn=document.querySelector(".close"),this.addEventTitle=document.querySelector(".event-name"),this.addEventFrom=document.querySelector(".event-time-from"),this.addEventTo=document.querySelector(".event-time-to"),this.eventsContainer=document.querySelector(".events"),this.day=document.querySelectorAll(".day"),this.error=document.querySelector(".alert"),this.addAnnotation=document.querySelector(".annotation-container"),this.addReminder=document.querySelector(".reminder-container"),this.inputTitle=document.querySelector(".form-title"),this.inputDescription=document.querySelector(".form-description"),this.createAnnotationBnt=document.querySelector(".create-annotations-bnt"),this.reminderBnt=document.querySelector(".reminder-bnt"),this.annotationBnt=document.querySelector(".annotation-bnt"),this.items=document.querySelector(".annotations"),this.addAnnotationBtn=document.querySelector(".add-annotation-bnt"),this.addAnnotationContainer=document.querySelector(".create-annotations"),this.addAnnotationCloseBtn=document.querySelector(".close-annotation"),this.pictureInput=document.querySelector("#picture_input"),this.pictureImage=document.querySelector(".picture_image"),this.pictureImageTxt="Imagem",this.pictureImage.innerHTML=this.pictureImageTxt}},{key:"events",value:function(){var e=this;this.prev.addEventListener("click",this.prevMonth.bind(this)),this.next.addEventListener("click",this.nextMonth.bind(this)),this.todayBtn.addEventListener("click",this.todayBtnF.bind(this)),this.dateInput.addEventListener("input",this.dateInputF.bind(this)),this.goBtn.addEventListener("click",this.goDate.bind(this)),this.addEventTitle.addEventListener("input",this.addEventTitleF.bind(this)),this.addEventFrom.addEventListener("input",this.addEventFromF.bind(this)),this.addEventTo.addEventListener("input",this.addEventToF.bind(this)),this.addEventSubmit.addEventListener("click",this.addEventSubmitF.bind(this)),this.annotationBnt.addEventListener("click",this.annotationEventBnt.bind(this)),this.reminderBnt.addEventListener("click",this.annotationReminderBnt.bind(this)),this.addEventBtn.addEventListener("click",function(){e.addEventContainer.classList.toggle("active")}),this.addEventCloseBtn.addEventListener("click",function(){e.addEventContainer.classList.remove("active")}),document.addEventListener("click",function(t){t.target!=!e.addEventBtn||e.addEventContainer.contains(t.target)||e.addEventContainer.classList.remove("active")}),this.userBnt.addEventListener("click",function(){e.containerUser.classList.toggle("active")}),this.addAnnotationBtn.addEventListener("click",function(){e.addAnnotationContainer.classList.toggle("active")}),this.addAnnotationCloseBtn.addEventListener("click",function(){e.addAnnotationContainer.classList.remove("active")}),document.addEventListener("click",function(t){t.target!=!e.addAnnotationBtn||e.addAnnotationContainer.contains(t.target)||e.addAnnotationContainer.classList.remove("active")}),this.createAnnotationBnt.addEventListener("click",this.createAnnotationBntF.bind(this)),this.pictureInput.addEventListener("change",this.addPreviewImage.bind(this))}},{key:"user",value:function(){var t=this.users;this.containerUser.innerHTML='\n        <section class="dates-users_text"> <p class="dates-users_name">Nome: '.concat(t[0].name,'</p>\n        <span class="dates-users_email">').concat(t[0].email,'</span></section>\n        <a href="/index.html">\n        <button class="dates-users_button">Sair da conta</button>\n        </a>\n        '),document.querySelector(".dates-users_button")&&document.querySelector(".dates-users_button").addEventListener("click",function(){localStorage.removeItem("token")})}},{key:"initCalendar",value:function(){for(var a=this,t=new Date(this.year,this.month,1),e=new Date(this.year,this.month+1,0),n=new Date(this.year,this.month,0).getDate(),r=e.getDate(),t=t.getDay(),o=7-e.getDay()-1,c=(this.date.innerHTML="".concat(this.months[this.month]," ").concat(this.year),""),i=t;0<i;i--)c+='<div class="day prev-date" >'.concat(n-i+1,"</div>");for(var s=1;s<=r;s++)!function(r){var o=!1,i=!1;a.eventsArr.forEach(function(t){var t=t.date,e=t.substr(0,2),n=t.substr(2,2),t=t.substr(4,4);e==r&&n==a.month+1&&t==a.year&&(o=!0)}),a.annotationArr.forEach(function(t){var t=t.date,e=t.substr(0,2),n=t.substr(2,2),t=t.substr(4,4);e==r&&n==a.month+1&&t==a.year&&(i=!0)}),r==(new Date).getDate()&&a.year==(new Date).getFullYear()&&a.month==(new Date).getMonth()?(a.activeDay=r,a.getActiveDay(r),a.updateEvents(r),c+=(o&&i?'<div class="day today active event-active annotation-active" >':o?'<div class="day today active event-active" >':i?'<div class="day today active annotation-active" >':'<div class="day today active" >').concat(r,"</div>")):c+=(o&&i?'<div class="day event-active annotation-active" >':i?'<div class="day annotation-active" >':o?'<div class="day event-active" >':'<div class="day " >').concat(r,"</div>")}(s);for(var u=1;u<=o;u++)c+='<div class="day next-date" >'.concat(u,"</div>");this.daysContainer.innerHTML=c,this.addListener(),this.updateEvents(this.activeDay),this.removeEvent()}},{key:"prevMonth",value:function(){this.month--,this.month<0&&(this.month=11,this.year--),this.initCalendar()}},{key:"nextMonth",value:function(){this.month++,11<this.month&&(this.month=0,this.year++),this.initCalendar()}},{key:"goDate",value:function(){var t=this.dateInput.value.split("/");2==t.length&&0<t[0]&&t[0]<13&&4==t[1].length?(this.month=t[0]-1,this.year=t[1],this.initCalendar()):alert("data invalida")}},{key:"addEventTitleF",value:function(t){this.addEventTitle.value=this.addEventTitle.value.slice(0,50)}},{key:"addEventFromF",value:function(t){this.addEventFrom.value=this.addEventFrom.value.replace(/[^0-9:]/g,""),2===this.addEventFrom.value.length&&(this.addEventFrom.value+=":"),5<this.addEventFrom.value.length&&(this.addEventFrom.value=this.addEventFrom.value.slice(0,5))}},{key:"addEventToF",value:function(){this.addEventTo.value=this.addEventTo.value.replace(/[^0-9:]/g,""),2==this.addEventTo.value.length&&(this.addEventTo.value+=":"),5<this.addEventTo.value.length&&(this.addEventTo.value=this.addEventTo.value.slice(0,5))}},{key:"todayBtnF",value:function(){this.today=new Date,this.month=this.today.getMonth(),this.year=this.today.getFullYear(),this.initCalendar()}},{key:"dateInputF",value:function(t){this.dateInput.value=this.dateInput.value.replace(/[^0-9/]/g,""),2==this.dateInput.value.length&&(this.dateInput.value+="/"),7<this.dateInput.value.length&&(this.dateInput.value=this.dateInput.value.slice(0,7)),t.inputType="deleteContentBackward",3==this.dateInput.value.length&&(this.dateInput.value=this.dateInput.value.slice(0,2))}},{key:"addListener",value:function(){var n=this,r=document.querySelectorAll(".day");r.forEach(function(t){t.addEventListener("click",function(e){n.activeDay=Number(e.target.innerHTML),n.getActiveDay(e.target.innerHTML),n.updateEvents(e.target.innerHTML),r.forEach(function(t){t.classList.remove("active")}),e.target.classList.contains("prev-date")?(n.prevMonth(),setTimeout(function(){document.querySelectorAll(".day").forEach(function(t){t.classList.contains("prev-date")||t.innerHTML!=e.target.innerHTML||t.classList.add("active")})},100)):e.target.classList.contains("next-date")?(n.nextMonth(),setTimeout(function(){document.querySelectorAll(".day").forEach(function(t){t.classList.contains("next-date")||t.innerHTML!=e.target.innerHTML||t.classList.add("active")})},100)):e.target.classList.add("active")})})}},{key:"getActiveDay",value:function(t){var e=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"][new Date(this.year,this.month,t).getDay()];this.eventDay.innerHTML=e,this.eventDate.innerHTML="".concat(t," de ").concat(this.months[this.month]," de ").concat(this.year),this.updateEvents(t),this.renderListItems(t),this.renderItem()}},{key:"createEvents",value:(i=c(k().mark(function t(){var e,n;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.users[0].id,t.next=3,fetch("https://server-agenda.vercel.app/user/".concat(e,"/reminder"));case 3:return e=t.sent,t.next=6,e.json();case 6:n=t.sent,this.eventsArr=n;case 8:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"updateEvents",value:function(o){var i=this,a="";this.eventsArr.forEach(function(t){var e=t.date,n=e.substr(0,2),r=e.substr(2,2),e=e.substr(4,4);o.toString().padStart(2,"0")==n&&i.month+1==r&&i.year==e&&(a+="\n                <div id=".concat(t.id,' class="event">\n                <i class="fas fa-check close-event"></i>\n                <div class="container-text"> <div class="title">\n                <i class="fas fa-circle"></i>\n                <h3 class="event-title">').concat(t.title,'</h3></div>\n                <div class="event-time">\n                <span>').concat(t.hourStart," - ").concat(t.hourEnd,"</span>\n                </div></div>\n               \n                </div>"))}),""===a&&(a='<div class="no-event">\n                <h3>Nenhum Evento</h3>\n            </div>'),this.eventsContainer.innerHTML=a,this.removeEvent()}},{key:"addEventSubmitF",value:function(){var e,t,n,r=this,o=document.querySelector(".day.active"),i=this.addEventTitle.value,a=this.addEventFrom.value,c=this.addEventTo.value,s=this.activeDay.toString().padStart(2,"0").concat((this.month+1).toString().padStart(2,"0"),this.year.toString()),u=JSON.parse(localStorage.getItem("user"));""===i||""===a||""===c?alert(" Por favor, preencha todos os campos"):(t=a.split(":"),n=c.split(":"),2!==t.length||2!==n.length||23<t[0]||59<t[1]||23<n[0]||59<n[1]?alert("Hora Inválida"):(e=!1,this.eventsArr.forEach(function(t){t.date===s&&t.title===i&&(e=!0)}),e?alert("Evento já existe"):(n=!(t={title:i,hourStart:a,hourEnd:c,date:s}),0<this.eventsArr.length&&this.eventsArr.date==s&&(item.push({date:s,events:t}),n=!0),n||this.eventsArr.push(t),a=u[0].id,fetch("https://server-agenda.vercel.app/user/".concat(a,"/reminder"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()}).then(function(t){r.addEventTitle.value="",r.addEventFrom.value="",r.addEventTo.value="",r.addEventContainer.classList.remove("active"),console.log("data:",t)}).catch(function(t){console.error("Erro ao criar lembrete",t)}),o.classList.contains("event-active")||o.classList.add("event-active"),this.updateEvents(this.activeDay))))}},{key:"removeEvent",value:function(){var t,n,r;this.addReminder.classList.contains("active")&&(t=document.querySelectorAll(".event"),document.querySelector(".day.active.event-active"),n=this.eventsArr,r=this.users[0].id,t.forEach(function(t){t.querySelector(".close-event").addEventListener("click",function(){var e=t.querySelector(".container-text").querySelector(".title .event-title").textContent;fetch("https://server-agenda.vercel.app/user/".concat(r,"/reminder/").concat(encodeURIComponent(e)),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(t){if(t.ok)return t.json();throw new Error("Erro ao excluir item do servidor")}).then(function(t){throw console.log("data:",t),n.filter(function(t){return t.titulo!==e}),new TypeError('"'+"events"+'" is read-only')}).catch(function(t){console.error("Erro ao excluir item",t)})})}))}},{key:"createAnnotation",value:(o=c(k().mark(function t(){var e,n;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.users[0].id,t.next=3,fetch("https://server-agenda.vercel.app/user/".concat(e,"/notes"));case 3:return e=t.sent,t.next=6,e.json();case 6:n=t.sent,this.annotationArr=n;case 8:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"addPreviewImage",value:function(t){var e,n=this,t=t.target.files[0];t?((e=new FileReader).addEventListener("load",function(t){var t=t.target,e=document.createElement("img");e.src=t.result,e.classList.add("picture-img"),n.pictureImage.innerHTML="",n.pictureImage.appendChild(e)}),e.readAsDataURL(t)):this.pictureImage.innerHTML=this.pictureImageTxt}},{key:"createAnnotationBntF",value:function(){var e,n=this,r=this.inputTitle.value,o=this.inputDescription.value,t=this.pictureImage.children[0].src,i=this.activeDay.toString().padStart(2,"0").concat((this.month+1).toString().padStart(2,"0"),this.year.toString()),a=this.users[0].id,c=document.querySelector(".day.active");""===r||""===o?alert(" Por favor, preencha todos os campos"):(e=!1,this.annotationArr.forEach(function(t){t.date===i&&t.title===r&&t.text===o&&(e=!0)}),e?alert("Nota já existe"):(t={title:r,text:o,img:""!=t?t:"./img/imgWhite.jpeg",date:i},this.annotationArr.push(t),fetch("https://server-agenda.vercel.app/user/".concat(a,"/notes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()}).then(function(t){n.inputTitle.value="",n.inputDescription.value="",n.addAnnotationContainer.classList.remove("active"),console.log("data:",t)}).catch(function(t){console.error("Erro ao criar anotação",t)}),c.classList.contains("annotation-active")||c.classList.add("annotation-active"),this.renderListItems(this.activeDay)))}},{key:"renderListItems",value:function(o){var i=this,a="";this.annotationArr.forEach(function(t){var e=t.date,n=e.substr(0,2),r=e.substr(2,2),e=e.substr(4,4);o.toString().padStart(2,"0")==n&&i.month+1==r&&i.year==e&&(a+="\n                <li id=".concat(t.id,' class="annotation">\n                <ul class="list-annotations">\n            <li id=').concat(t.id,' class="annotation-prev">\n            <i class="fas fa-times close-annotation"></i>\n            <div class="annotation-prev_text"><h3  class="annotation-prev-title">').concat(t.title,'</h3>\n                    <p class="annotation-prev-description">').concat(t.text,"</p></div>\n                    \n            </li>\n            <li id=").concat(t.id,' class="annotation-img">\n                    <i class="fas fa-times close-annotation-img"></i>\n                    <figure class="annotation-img_figure">\n                    <img class="image-result" src=').concat(t.img,' />\n                    <figcaption class="annotation-img-title">').concat(t.title,'\n                    </figcaption>\n                    </figure>\n                    <p class="annotation-img-description">').concat(t.text,"</p>\n                </li></ul></li>\n        "))}),""===a&&(a='<div class="no-note">\n                <h3>Nenhuma Nota</h3>\n            </div>'),this.items.innerHTML=a,this.removeAnnotation(),this.renderItem()}},{key:"removeAnnotation",value:function(){var t,o,i,a;this.addAnnotation.classList.contains("active")&&(t=document.querySelectorAll(".annotation-prev"),o=document.querySelector(".day.active.annotation-active"),i=this.annotationArr,a=this.users[0].id,t.forEach(function(r){r.querySelector(".close-annotation").addEventListener("click",function(){var t=r.querySelector(".annotation-prev_text .annotation-prev-description").textContent,e=r.querySelector(".annotation-prev_text .annotation-prev-title").textContent;fetch("https://server-agenda.vercel.app/user/".concat(a,"/notes/").concat(encodeURIComponent(e),"/").concat(encodeURIComponent(t)),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){console.log("data:",t)}).catch(function(t){console.error("Erro ao excluir anotação",t)});for(var n=0;n<i.length;n++)if(i[n].id===a){i.splice(n,1);break}0===i.length&&o.classList.remove("annotation-active")})}))}},{key:"renderItem",value:function(){var t,r;this.addAnnotation.classList.contains("active")&&(t=document.querySelectorAll(".annotation-prev"),r=document.querySelectorAll(".annotation-img"),t.forEach(function(n){n.querySelector(".annotation-prev_text").addEventListener("click",function(){var e=n.getAttribute("id"),t=(r.forEach(function(t){t.getAttribute("id")===e?(t.classList.add("active"),console.log(e)):t.classList.remove("active")}),n.nextElementSibling);t&&t.classList.contains("active")&&t.querySelector(".close-annotation-img").addEventListener("click",function(){t.classList.remove("active")})})}))}},{key:"renderPage",value:function(){(JSON.parse(localStorage.getItem("ativo"))?(this.addReminder.classList.remove("active"),this.addAnnotation):(this.addAnnotation.classList.remove("active"),this.addReminder)).classList.add("active")}},{key:"annotationEventBnt",value:function(){var t=JSON.parse(localStorage.getItem("ativo")),t=!!this.addReminder.classList.contains("active")&&(this.addReminder.classList.remove("active"),this.addAnnotation.classList.add("active"),!0);localStorage.setItem("ativo",JSON.stringify(t)),this.renderListItems(this.activeDay),this.renderItem(),this.removeAnnotation()}},{key:"annotationReminderBnt",value:function(){var t=JSON.parse(localStorage.getItem("ativo")),t=!this.addAnnotation.classList.contains("active")||(this.addAnnotation.classList.remove("active"),this.addReminder.classList.add("active"),!1);localStorage.setItem("ativo",JSON.stringify(t)),this.removeEvent()}}])&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n.Calendar=r},{}],4:[function(t,e,n){"use strict";function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(){k=function(){return a};var a={},t=Object.prototype,s=t.hasOwnProperty,u=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o,i,a,c,e=e&&e.prototype instanceof h?e:h,e=Object.create(e.prototype),r=new w(r||[]);return u(e,"_invoke",{value:(o=t,i=n,a=r,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return S()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;r=l(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}(n,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===c)throw c="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c="executing";n=l(o,i,a);if("normal"===n.type){if(c=a.done?"completed":"suspendedYield",n.arg===d)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(c="completed",a.method="throw",a.arg=n.arg)}})}),e}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=c;var d={};function h(){}function v(){}function f(){}var e={},p=(i(e,r,function(){return this}),Object.getPrototypeOf),p=p&&p(p(L([]))),y=(p&&p!==t&&s.call(p,r)&&(e=p),f.prototype=h.prototype=Object.create(e));function m(t){["next","throw","return"].forEach(function(e){i(t,e,function(t){return this._invoke(e,t)})})}function g(a,c){var e;u(this,"_invoke",{value:function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,o){var i,t=l(a[t],a,n);if("throw"!==t.type)return(n=(i=t.arg).value)&&"object"==x(n)&&s.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):c.resolve(n).then(function(t){i.value=t,r(i)},function(t){return e("throw",t,r,o)});o(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:S}}function S(){return{value:void 0,done:!0}}return u(y,"constructor",{value:v.prototype=f,configurable:!0}),u(f,"constructor",{value:v,configurable:!0}),v.displayName=i(f,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,i(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t},a.awrap=function(t){return{__await:t}},m(g.prototype),i(g.prototype,n,function(){return this}),a.AsyncIterator=g,a.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var i=new g(c(t,e,n,r),o);return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},m(y),i(y,o,"Generator"),i(y,r,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),a.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=L,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(n=o.completion).type&&(r=n.arg,b(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},a}function s(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function i(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function a(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach(function(t){var e,n;e=r,n=o[t=t],(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){t=function(t,e){if("object"!==x(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===x(t)?t:String(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.Login=void 0;var r=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.selectors(),this.event()}var e,n,r,c,o;return e=t,(n=[{key:"selectors",value:function(){this.addEmail=document.querySelector(".email_login"),this.addPassword=document.querySelector(".password_login"),this.addUserBtn=document.querySelector(".button-login")}},{key:"event",value:function(){this.addUserBtn.addEventListener("click",this.CreateUser.bind(this))}},{key:"CreateUser",value:function(){var e=this,t=this.addEmail.value,n=this.addPassword.value;""===t||""===n?alert(" Por favor, preencha todos os campos"):fetch("https://server-agenda.vercel.app/login-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then(function(t){return t.json()}).then(function(t){t.token?(localStorage.setItem("token",t.token),e.addEmail.value="",e.addPassword.value="",window.location.replace("calendar.html")):(console.log("Usuário não encontrado!"),alert("E-mail ou senha incorretos!")),t.users&&(localStorage.setItem("user",JSON.stringify(t.users)),console.log("usuario encontrado",t.user))}).catch(function(t){console.error("Erro ao buscar usuário:",t)})}},{key:"fetchWithToken",value:function(t,e){var n=localStorage.getItem("token");if(n)return n="Bearer ".concat(n),n=a(a({},e.headers),{},{Authorization:n}),fetch(t,a(a({},e),{},{headers:n}));throw new Error("Token não encontrado!")}},{key:"getEvents",value:(c=k().mark(function t(){var e;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchWithToken("https://server-agenda.vercel.app/events");case 2:return e=t.sent,t.next=5,e.json();case 5:e=t.sent,console.log(e);case 7:case"end":return t.stop()}},t,this)}),o=function(){var t=this,a=arguments;return new Promise(function(e,n){var r=c.apply(t,a);function o(t){s(r,e,n,o,i,"next",t)}function i(t){s(r,e,n,o,i,"throw",t)}o(void 0)})},function(){return o.apply(this,arguments)})}])&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n.Login=r},{}]},{},[1]);